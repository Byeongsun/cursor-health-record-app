# 건강 기록 앱 개발 TODO 리스트

## 프로젝트 개요
어르신을 위한 건강 수치 기록 웹 애플리케이션 (당뇨, 고혈압 등)
- **기술 스택**: React + TypeScript + Vite + Supabase + Material-UI
- **인증**: 이메일, 구글, 카카오 로그인
- **데이터베이스**: Supabase (PostgreSQL)

## 개발 진행 상황

### ✅ 완료된 작업

#### 1. 프로젝트 초기 설정
- [x] **프로젝트 생성**: React + TypeScript + Vite 프로젝트 생성
- [x] **의존성 설치**: 필요한 패키지들 설치 (Redux Toolkit, Material-UI, Supabase 등)
- [x] **기본 구조 설정**: 폴더 구조 및 기본 파일들 생성

#### 2. Supabase 설정
- [x] **Supabase 프로젝트 생성**: 데이터베이스 프로젝트 생성
- [x] **데이터베이스 스키마**: 테이블 구조 설계 및 생성
  - `users` 테이블 (사용자 정보)
  - `health_records` 테이블 (건강 수치 기록)
  - `health_goals` 테이블 (건강 목표)
  - `medications` 테이블 (복용 약물)
- [x] **Row Level Security (RLS)**: 보안 정책 설정
- [x] **환경 변수 설정**: Supabase URL 및 API 키 설정

#### 3. 인증 시스템 구현
- [x] **Redux Store 설정**: 상태 관리 구조 설정
- [x] **Auth Slice**: 인증 관련 Redux slice 구현
- [x] **이메일 로그인**: 이메일/비밀번호 인증 구현
- [x] **프로필 관리**: 사용자 프로필 수정/저장 기능
- [x] **로그아웃**: 로그아웃 기능 구현
- [x] **OAuth 콜백 처리**: 소셜 로그인 리다이렉트 처리

#### 4. UI 컴포넌트 및 레이아웃
- [x] **Material-UI 테마**: 어르신 친화적 테마 설정
- [x] **라우팅**: React Router DOM 설정
- [x] **로그인 페이지**: 이메일 및 소셜 로그인 UI
- [x] **대시보드 페이지**: 메인 화면 레이아웃
- [x] **프로필 페이지**: 사용자 정보 수정 페이지
- [x] **보호된 라우트**: 인증 필요 페이지 보호

#### 5. 구글 로그인 설정
- [x] **Google Cloud Console 설정**: OAuth 2.0 클라이언트 생성
- [x] **Supabase 구글 OAuth 설정**: 클라이언트 ID/Secret 설정
- [x] **리다이렉트 URI 설정**: `http://localhost:5174/auth/callback` 추가
- [x] **구글 로그인 테스트**: 정상 동작 확인

#### 6. 디버깅 및 문제 해결
- [x] **PayloadAction 타입 에러 수정**: Redux Toolkit import 문제 해결
- [x] **환경 변수 설정**: Supabase 연결 문제 해결
- [x] **OAuth 콜백 처리**: 구글 로그인 리다이렉트 문제 해결
- [x] **세션 관리**: 인증 상태 유지 문제 해결

#### 7. 건강 수치 입력 폼 구현
- [x] **혈압 입력 폼**: 수축기/이완기 혈압 입력 (어르신 친화적 UI)
- [x] **혈당 입력 폼**: 공복/식후 혈당 입력 (직관적 인터페이스)
- [x] **체중 입력 폼**: 체중 기록 입력 (소수점 지원)
- [x] **입력 검증**: 유효성 검사 및 에러 처리
- [x] **데이터 저장**: Supabase에 건강 수치 저장 (Redux 연동)
- [x] **측정 시간 기록**: 현재 시간 기본값 설정
- [x] **메모 기능**: 선택적 메모 입력
- [x] **성공/실패 알림**: 사용자 피드백 제공

#### 8. 디버그 컴포넌트 정리
- [x] **개발 환경 전용 설정**: 프로덕션에서 자동 숨김 처리
- [x] **AuthDebug 컴포넌트**: 인증 상태 디버깅용
- [x] **SupabaseStatus 컴포넌트**: 연결 상태 확인용
- [x] **SocialLoginGuide 컴포넌트**: 소셜 로그인 설정 가이드

#### 9. 차트 및 데이터 시각화
- [x] **차트 라이브러리**: Recharts 설치 및 설정
- [x] **혈압 차트**: 시간별 혈압 변화 그래프 (수축기/이완기/맥박)
- [x] **혈당 차트**: 시간별 혈당 변화 그래프 (공복/식후 구분)
- [x] **체중 차트**: 시간별 체중 변화 그래프 (영역 차트)
- [x] **통계 요약**: 평균, 최고/최저값, 변화량 표시
- [x] **통합 차트 대시보드**: 탭 기반 차트 전환 및 전체화면 모드
- [x] **어르신 친화적 디자인**: 큰 폰트, 높은 대비, 직관적 색상 코딩

### ⏳ 대기 중인 작업

#### 10. 카카오 로그인 설정 (미해결 과제)
- [x] **Kakao Developer Console 설정**: 애플리케이션 생성 및 설정
- [x] **Supabase 카카오 OAuth 설정**: 클라이언트 ID 설정
- [ ] **카카오 로그인 테스트**: KOE205 에러 미해결
  - **현재 상태**: 카카오 개발자 콘솔에서 설정 완료 필요
  - **문제**: `KOE205 (Invalid Request)` 에러 발생
  - **에러 원인**: `account_email`, `profile_image` 동의항목 설정 필요
  - **상태**: 미해결 과제로 분류, 향후 해결 예정

#### 11. 메인 대시보드 화면 구현
- [ ] **최근 기록 표시**: 최근 입력한 건강 수치 요약
- [ ] **목표 대비 진행률**: 건강 목표 달성률 표시
- [ ] **알림 섹션**: 측정 리마인더 및 주의사항
- [ ] **빠른 액션**: 건강 수치 입력 버튼

#### 12. 알림 및 리마인더 시스템
- [ ] **측정 리마인더**: 정기적인 측정 알림
- [ ] **목표 달성 알림**: 목표 달성 시 축하 메시지
- [ ] **위험 수치 알림**: 비정상 수치 시 경고
- [ ] **약물 복용 리마인더**: 약물 복용 시간 알림

#### 13. 데이터 내보내기 기능
- [ ] **PDF 내보내기**: 건강 기록 PDF 생성
- [ ] **Excel 내보내기**: 건강 기록 Excel 파일 생성
- [ ] **기간별 필터링**: 특정 기간 데이터 내보내기
- [ ] **의사 진료용 보고서**: 진료용 요약 보고서

#### 14. 테스트 및 프로덕션 배포
- [ ] **단위 테스트**: 컴포넌트별 테스트 작성
- [ ] **통합 테스트**: 전체 플로우 테스트
- [ ] **사용자 테스트**: 어르신 대상 사용성 테스트
- [ ] **프로덕션 배포**: Vercel/Netlify 배포
- [ ] **도메인 설정**: 커스텀 도메인 연결

## 현재 우선순위

### 🔥 긴급 (현재 작업)
1. **메인 대시보드 완성** - 사용자 경험 개선

### 📋 다음 단계
1. **알림 및 리마인더 시스템** - 사용자 편의성 향상
2. **데이터 내보내기 기능** - 의료진 공유 기능
3. **테스트 및 프로덕션 배포** - 안정성 및 배포

### ❌ 미해결 과제
1. **카카오 로그인 KOE205 에러** - 동의항목 설정 문제로 인한 인증 실패

## 참고 문서
- [PRD.md](./PRD.md) - 프로젝트 요구사항 문서
- [GOOGLE_LOGIN_SETUP.md](./GOOGLE_LOGIN_SETUP.md) - 구글 로그인 설정 가이드
- [KAKAO_LOGIN_SETUP.md](./KAKAO_LOGIN_SETUP.md) - 카카오 로그인 설정 가이드
- [supabase/setup-guide.md](./supabase/setup-guide.md) - Supabase 설정 가이드

---
**마지막 업데이트**: 2024년 1월 16일
**현재 진행률**: 약 85% (인증 시스템 완료, UI 기본 구조 완료, 구글 로그인 정상 동작, 건강 수치 입력 폼 완료, 차트 및 데이터 시각화 완료)
**미해결 과제**: 카카오 로그인 KOE205 에러 (동의항목 설정 문제)
**다음 단계**: 메인 대시보드 완성 및 알림 시스템 구현

